<!doctype html><html itemscope itemtype=https://schema.org/WebPage class=no-js lang=en><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=siteBaseUrl content="lia-troy.github.io"><meta name=author content="Lia Troy"><meta name=description content="Math theory that actually affects your life, written for engineers"><meta name=keywords content="blog,math,applied,engineers,engineering,code,theory"><meta name=generator content="Hugo 0.100.1"><title>Chaos 101: a small change in input is a BIG change in output | Applied in Theory</title><meta itemprop=name content="Chaos 101: a small change in input is a BIG change in output"><meta itemprop=description content="Chaos 101: a small change in input is a BIG change in output - Math theory that actually affects your life, written for engineers"><meta property="og:title" content="Chaos 101: a small change in input is a BIG change in output"><meta property="og:description" content="Chaos 101: a small change in input is a BIG change in output - Math theory that actually affects your life, written for engineers"><meta property="og:image" content="https://www.gravatar.com/avatar/d41d8cd98f00b204e9800998ecf8427e?size=200"><meta property="og:url" content="lia-troy.github.io/lia-troy.github.io/article/chaos101/"><meta property="og:site_name" content="Applied in Theory"><meta property="og:type" content="article"><script src=/lia-troy.github.io/modernizr-simple.js></script>
<link href=lia-troy.github.io/article/chaos101/ rel=alternate type=application/rss+xml title="Applied in Theory"><link href=lia-troy.github.io/article/chaos101/ rel=feed type=application/rss+xml title="Applied in Theory"><link rel=canonical href=lia-troy.github.io/article/chaos101/><link rel=stylesheet href=lia-troy.github.io/theme.css></head><body class=bilberry-hugo-theme><nav><div class=container><ul class=topnav><li><a href=lia-troy.github.io/page/about/>About me</a></li></ul></div></nav><header><div class=container><div class=logo><a href=/page/about/ class=logo><img src=/lia-troy.github.io/profile-img.jpg alt>
<span class=overlay><i class="fa false"></i></span></a></div><div class=titles><h3 class=title><a href=/lia-troy.github.io>Applied in Theory</a></h3><span class=subtitle>Can higher math be brought down to Earth?</span></div><div class=toggler><i class="fa fa-bars" aria-hidden=true></i></div></div></header><div class="main container"><div class="article-wrapper u-cf single"><a class=bubble href=lia-troy.github.io/article/chaos101/><i class="fas fa-fw fa-pencil-alt"></i></a><article class="default article"><div class=content><h1 class=article-title><a href=lia-troy.github.io/article/chaos101/>Chaos 101: a small change in input is a BIG change in output</a></h1><div class=meta><span class="date moment">2022-06-02</span>
<span class=readingTime>7 min read</span>
<span class=author><a href=/page/about/>Lia Troy</a></span></div><p>Many systems are chaotic.</p><p><img src=/dynamics/chaos-icon.jpg alt="Photo by Timur Kozmenko on Unsplash"></p><p>Some are only interesting to physics classes, like the double pendulum.
Some, like the three-body problem, are concrete physics problems that feel a bit more important.
However, the weather is also a highly chaotic system,
and the fact that weather prediction is so complex has an immediate effect on all of our daily lives.</p><p>We&rsquo;ve all seen the infamous &ldquo;30% chance of rain&rdquo; and felt completely clueless about how to dress.
More importantly, if we could accurately predict serious natural disasters like hurricanes and tsunamis,
we could make effective plans, save crops, and even save lives.</p><p>Chaos is rigorously mathematically defined.
The definition is concise and accurate.
But &mldr; it&rsquo;s not particularly easy to understand.
We&rsquo;ve all heard of the &ldquo;butterfly effect&rdquo;, but despite the vivid imagery, understanding chaos remain elusive.</p><p>I will first walk through the mathematical definition in plain English,
and then use some easy examples to build an intuition for what chaos is and what it looks like.</p><h2 id=when-close-enough-isnt-good-enough>When close enough ISN&rsquo;T good enough</h2><p>Let&rsquo;s start with an easy example: <code>f(x) = 1 / x</code>, and an error of $10^{-6}$.</p><p>If I choose <code>x = 0.00001</code>, then <code>f(0.00001) = 100,000</code>. So far so good.</p><p>But &ndash; what if I add <code>epsilon</code> of $10^{-9}$ to the input? Unfortunately, then <code>f(0.00001 + epsilon) = 100,010.001</code>.
Yikes. My output changed by 10.
It was just the tiniest difference in input, but it left my error tolerance in the dust.</p><p>On the one hand, yeah, don&rsquo;t divide by zero (or really close to zero).
Isn&rsquo;t that the only math rule anyone ever cares about?</p><p>Ideally, after this post, there will be at least one more math rule that you care about.
The idea is to show that this type of unexpectedly drastic change in output isn&rsquo;t isolated to dividing by zero.</p><h2 id=what-is-a-dynamical-system>What is a dynamical system?</h2><p>A dynamical system is just a function that evolves a system over time.
Any timestep function is a dynamical system, where the system at time <code>t</code> is dependent on the system at time <code>&lt; t</code>, and ultimately the starting conditions.</p><p>Formally, a dynamical system is a function where the range is equal to the domain.
In other words, the output can become the &ldquo;starting conditions&rdquo; for the next iteration.</p><p>Since computers can only do discrete calculations, scientists often model continuous systems with discrete systems.
Some examples are weather forecast, molecular dynamics simulations, double pendulums, most ordinary differential equaions (ODEs).</p><p>Why does this definition matter? It matters because of chaos.</p><h2 id=what-is-chaos>What is chaos?</h2><p>Some dynamical systems are chaotic: they are extremely sensititve to initial conditions.
This is what we saw with <code>1 / x</code> near zero.
A miniscule rounding error can change the output drastically.
However, this isn&rsquo;t the worst case scenario.
At least <code>1 / x</code> is well behaved &ndash; the function changes in the same direction.
If my answer is way larger than expected, at least I know my error was to round down.</p><p>If a system is mixing, the teeniest change in the input of <code>epsilon</code> can have ANY effect on output
&ndash; no matter how tiny the <code>epsilon</code> I choose is.</p><p>Let&rsquo;s start with the formal definition of &ldquo;mixing&rdquo;, and walk through it with an example.</p><h3 id=mathematical-definition-topological-mixing>Mathematical definition: topological mixing</h3><p>A system is topologically mixing if for every two open sets <code>U</code> and <code>V</code>,
there is a time <code>t</code> of the system such that <code>U</code> iterated <code>t</code> times intersects (overlaps with) <code>V</code> iterated <code>t</code> times.</p><p>This implies that if you allow a change in your input by <code>epsilon</code>, no matter how small, your output after a bunch of iterations could be anywhere.
Essentially, it&rsquo;s the butterfly effect.
Let&rsquo;s look at an example of this to understand what this looks like.</p><p><strong>Disclaimer</strong>:
A crucial part of this defintion is the <em>open</em> set.
In the following example, we will see a visual demonstration of this type of chaotic dynamic,
but keep in mind that this example is over a finite input set.</p><h2 id=example-of-chaos-and-mixing-logistic-maps>Example of chaos and mixing: logistic maps</h2><p>The logistic map is a class of functions of the form <code>r * p * (1 - p)</code>,
where <code>p</code> is between 0 and 1 inclusive.
For this example, let&rsquo;s choose <code>r = 3.95</code> (yes, this is a very intentional choice).</p><p>Essentially, we have two sets of 200 densely packed points as the starting conditions:
one set between <code>[0.3, 0.301]</code> and one set between <code>[0.8, 0.801]</code>.
There was no particular reason for those values.
Due to the chaotic nature of this function, we would see a similar effect with any two input sets.</p><p>These sets are graphed at <code>t = 0</code>.
For <code>t = 1</code>, each point was mapped through the logistic map <code>logistic_map(p) = 3.95 * p * (1 - p)</code>.
Similarly, to get the points at <code>t = i</code>, I simply mapped all the points at <code>t = i - 1</code> through the logistic map.</p><p><img src=/dynamics/logistic_map_mixing395.png alt="Logistic map f = 3.95 * x * (1 - x); t = 15 timesteps"></p><p>What are we looking at here? Let&rsquo;s walk through this.</p><p>At <code>t = 0</code>, we see the starting conditions as described above, colour coded.
Even though I plotted the points with low opacity of 0.2,
we see solid blue and yellow dots since the individual dots are so closely packed on top of each other.</p><p>For the first few iterations, we see what we expect to see.
The dots start out close together, and are mapped around together, staying closely packed.</p><p>A <code>t = 5</code> we start to see for the first time that the sets are slightly more spread out than they were previously,
and from <code>t > 5</code> the dots start to spread out significantly.</p><p>At <code>t = 10</code> we see the first iteration that satisfies the definition of <em>mixing</em> &ndash;
all disjoint open sets are eventually mapped to an overlap.</p><p>But, just for funsies, I included the next few iterations as well,
where we see the significance of a mixing dynamic.
What we see in <code>t > 10</code> is the more intuitive understanding of chaos &ndash;
the blue and yellow sets end up basically everywhere.</p><p>This shows why this type of dynamic is called <em>mixed</em>.
No matter which set you choose, or how tightly packed it starts,
eventually, after enough iterations the set will be fully &ldquo;mixed&rdquo; into the system.
Just like a drop of food colouring in a glass of water.</p><p>I posted the code that generated this figure <a href=lia-troy.github.io/code/logistic-map/ title="Logistic map iter">here</a>.</p><h4 id=exercise-for-the-reader>Exercise for the reader:</h4><ol><li>Prove that if <code>0 &lt; p &lt; 1</code> and <code>r = 3.95</code>,
then in the logistic map <code>f(p) = 3.95 * p * (1 - p)</code>, we have <code>0 &lt;= f(p) &lt;= 1</code>.</li><li>Prove the same thing for all <code>0 &lt; r &lt; 4</code>.</li></ol><h2 id=the-bottom-line>The bottom line</h2><p>We now understand dynamic systems, and have seen an example of chaos and mixing.
What we&rsquo;ve also seen is that in these systems, a tiny change to the input can have
basically any effect on the output.
Moreover, I was able to create a highly chaotic system with only three compute operations &ndash;
two multiplications and one subtraction.
I didn&rsquo;t have to construct some crazy looking ODE.</p><p>This is extremely crucial to understand. The &ldquo;close enough is good enough&rdquo;
philosophy of rounding is so prevalent,
especially since it is impossible for a computer to have perfect precision.
Yes, a lot of the time we really are in non-chaotic systems,
and a teeny bit of rounding is completely safe.
However, in a chaotic system, this is simply not the case,
and it is definitely worth confirming that a &ldquo;negligible&rdquo; rounding error is in fact inconsequential.</p><h2 id=whats-next>What&rsquo;s next?</h2><p>Many systems are chaotic &mldr; but luckily many aren&rsquo;t.
In future posts, I will cover other dynamics.</p><p>I will also post about rounding errors in floating point arithmetic that can cause some funky behaviour in a chaotic system.</p><p>Throughout the chaos series, I will continue to use the logistic map with different <code>r</code> values as examples.
I will include an engineer-friendly post, but there&rsquo;s also some pretty great content on Wikipedia.</p></div><div class="footer no-tags"></div></article></div><div id=comments-container></div></div><footer><div class=container><div class=recent-posts><strong>Latest posts</strong><ul><li><a href=lia-troy.github.io/code/logistic-map/>Logistic map code</a></li><li><a href=lia-troy.github.io/article/chaos101/>Chaos 101: a small change in input is a BIG change in output</a></li></ul></div><div class=right></div></div></footer><div class=credits><div class=container><div class=copyright><a href=https://github.com/Lednerb target=_blank>&copy;
2022
by Lia Troy</a></div><div class=author><a href=https://github.com/Lednerb/bilberry-hugo-theme target=_blank>Bilberry Hugo Theme</a></div></div></div><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
<script type=text/x-mathjax-config>
      MathJax.Hub.Config({
        tex2jax: {
          inlineMath: [['$','$'], ['\\(','\\)']]}
        });
</script><script src=lia-troy.github.io/theme.js></script></body></html>